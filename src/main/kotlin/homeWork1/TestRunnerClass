import kotlin.reflect.full.declaredFunctions

class TestClass: TestRunner {

    override fun <T> runTest(steps: T, test: () -> Unit) {
        steps::class.declaredFunctions.forEach {
            if (it.name.startsWith("before")) {
             println("Start before method: ${it.name}")
             it.call(steps)
             println("Finish before method: ${it.name}")
            }
        }
        test()
        steps::class.declaredFunctions.forEach {
            if (it.name.startsWith("after")) {
             println("Start after method: ${it.name}")
             it.call(steps)
             println("Finish after method: ${it.name}")
            }
        }
    }
}